# 《灵宠放置传》改造策划案

> 基于《灵宠消消塔》（五行通天塔）全面改造  
> 核心定位：**宠物养成放置游戏 × 转珠战斗 × 怪物捕捉**

---

## 一、游戏概述

### 1.1 一句话描述
收集五行灵宠、转珠对战、捕捉怪物、放置挂机，打造你的最强灵宠军团。

### 1.2 核心玩法三角
```
        放置挂机（经验/资源产出）
           /              \
     转珠战斗  ———————  宠物养成
   （副本/关卡）      （融合/升星/进化）
         \              /
          怪物捕捉（获取高星宠物）
```

### 1.3 目标用户
- 喜欢宠物收集养成的轻度-中度玩家
- 碎片化时间多、喜欢挂机放置的微信小游戏用户
- 对转珠/智龙迷城式战斗有兴趣的玩家

### 1.4 与原版核心区别

| 维度 | 原版（五行通天塔） | 新版（灵宠放置传） |
|------|-------------------|-------------------|
| 核心循环 | Roguelike单局制，死亡重置 | 永久养成 + 放置 + 副本推图 |
| 宠物定位 | 局内临时获取，一次性 | 永久收藏品，长线培养 |
| 进度感 | 仅最高层记录 | 宠物等级/星级/关卡进度/收集率 |
| 付费点 | 无 | 可选广告加速/特殊捕捉道具 |
| 留存设计 | 弱（无惦念感） | 强（挂机产出+每日任务+收集驱动） |

---

## 二、核心系统设计

### 2.1 宠物系统（大幅扩展）

#### 2.1.1 宠物获取途径
| 途径 | 获得星级 | 说明 |
|------|---------|------|
| 战斗掉落 | ★1 | 打败怪物有概率掉落同名宠物（基础概率15%，精英25%，BOSS50%） |
| 捕捉 | ★2 | 战斗中使用"灵珠"道具捕捉，成功获得★2同名宠物 |
| 融合升星 | ★1→★2→★3 | 同名宠物融合提升星级 |
| 放置产出 | ★1 | 挂机关卡已遇到过的怪物有极低概率自动获得 |
| 图鉴奖励 | 特定★2/★3 | 集齐同属性一定数量后奖励 |

#### 2.1.2 宠物属性体系
```
宠物属性 = 基础属性 × (1 + 等级加成) × 星级倍率
```

| 属性 | 说明 | 来源 |
|------|------|------|
| HP（血量） | 队伍总血量由所有出战宠物HP之和决定 | 基础值 + 等级成长 |
| ATK（攻击） | 消除对应属性珠时的伤害基数 | 基础值 + 等级成长 |
| REC（回复） | 消除心珠时的回血量基数 | 基础值 + 等级成长 |
| 属性 | 金/木/土/水/火 | 固定 |

**星级倍率：**
- ★1：×1.0（无技能）
- ★2：×1.5（解锁基础技能）
- ★3：×2.0（技能增强，解锁满星形态立绘）

**等级系统：**
- 等级上限：★1=30级, ★2=50级, ★3=80级
- 经验来源：战斗经验 / 放置经验 / 融合经验宠（经验珠）
- 每级属性成长 = 基础属性 × 成长系数（按T1/T2/T3区分）

#### 2.1.3 宠物融合系统（改造自原版 tryMergePet）

**升星融合：**
- ★1 → ★2：需要 3只相同★1宠物（或1只同名+素材币500）
- ★2 → ★3：需要 2只相同★2宠物（或1只同名+素材币2000）

**经验融合：**
- 任意宠物可作为素材喂给目标宠物获取经验
- 同属性素材经验 ×1.5
- 高星素材提供更多经验

#### 2.1.4 宠物技能（完全复用现有40+技能）
- ★1：无主动技能
- ★2：解锁基础技能（复用原版 `skill` 字段）
- ★3：技能增强（复用原版 `STAR3_SKILL_OVERRIDE`）
- 技能CD系统沿用原版（3-6回合）

#### 2.1.5 编队系统
- **出战队伍：5只宠物**（沿用原版设计）
- 建议搭配覆盖5种属性以应对各种敌人
- 队长技能（新增）：第一只宠物额外提供一个被动效果
  - 例：金属性队长 → 全队暴击率+10%
  - 例：水属性队长 → 心珠回复+25%

### 2.2 战斗系统（高度复用）

#### 2.2.1 转珠战斗（核心引擎完全复用）
- **6×5棋盘**，拖拽交换消除，沿用现有 `battle.js` 引擎
- **五行克制**：金→木→土→水→火→金，克制倍率2.5x
- **Combo系统**：沿用现有递减倍率（≤8段+35%，8-12段+20%，12+段+10%）
- **5连消眩晕**：沿用
- **战斗流程**：玩家转珠 → 消除结算 → 技能触发 → 敌方行动 → 循环
- **心珠回复**：消除心珠按队伍REC总值回血

#### 2.2.2 捕捉系统（新增核心机制）

**灵珠道具：**
| 灵珠类型 | 基础捕捉率 | 获取方式 |
|---------|-----------|---------|
| 普通灵珠 | 20% | 商店购买（金币）/ 放置产出 |
| 高级灵珠 | 45% | 副本掉落 / 每日任务奖励 |
| 大师灵珠 | 75% | 稀有掉落 / 广告奖励 |
| 五行灵珠 | 100% | 特殊活动 / 成就奖励 |

**捕捉机制：**
1. 战斗中怪物血量降至50%以下时，出现"捕捉"按钮
2. 使用灵珠后进入捕捉判定：
   - `实际捕捉率 = 基础捕捉率 × (1 + 属性克制加成0.2) × (1 - 剩余血量比例×0.5)`
   - 即：怪物血量越低、属性克制时，捕捉率越高
3. 捕捉成功：获得★2同名宠物，战斗直接胜利
4. 捕捉失败：灵珠消耗，战斗继续
5. BOSS和精英怪捕捉率额外 ×0.5（更难捕捉但更稀有）

**捕捉动画：**
- 复用现有灵珠飞行动画框架
- 灵珠投出 → 命中怪物 → 闪烁判定 → 成功/失败

#### 2.2.3 法宝系统（高度复用）
- 50件法宝沿用，提供被动效果
- 改为永久获取制：副本掉落/商店购买
- 每次出战装备1件法宝（沿用）
- 新增法宝强化：消耗重复法宝或素材升级效果数值

### 2.3 关卡与副本系统（替代原版塔层）

#### 2.3.1 主线关卡（替代30层通天塔）

**五大区域（对应五行属性）：**
| 区域 | 属性 | 关卡数 | 难度定位 | 背景 |
|------|------|--------|---------|------|
| 金风峡谷 | 金 | 20关 | ★★ | 复用 battle_metal.jpg |
| 翠木森林 | 木 | 20关 | ★★ | 复用 battle_wood.jpg |
| 厚土高原 | 土 | 20关 | ★★★ | 复用 battle_earth.jpg |
| 深水龙宫 | 水 | 20关 | ★★★★ | 复用 battle_water.jpg |
| 烈火火山 | 火 | 20关 | ★★★★★ | 复用 battle_fire.jpg |

**每关结构：**
- 每关 1-3 波怪物（普通怪/精英怪）
- 每个区域第10关和第20关为BOSS关
- 首次通关奖励丰厚（金币+灵珠+概率宠物）
- 可重复刷关获取经验和掉落

**关卡星级评价（新增）：**
- ★：通关
- ★★：无人阵亡通关（全队存活）
- ★★★：N回合内通关（速通）
- 星级奖励：首次达到新星级有额外奖励

#### 2.3.2 每日副本
| 副本 | 开放日 | 产出 | 说明 |
|------|-------|------|------|
| 金币洞窟 | 每日 | 大量金币 | 3次/日 |
| 经验秘境 | 每日 | 经验珠宠物 | 3次/日 |
| 灵珠试炼 | 周二/四/六 | 各级灵珠 | 3次/日 |
| 属性挑战（金/木/土/水/火） | 轮换 | 对应属性素材 | 限制对应属性队伍 |
| 五行通天塔 | 每周重置 | 丰厚综合奖励 | 复用原版Roguelike模式！ |

#### 2.3.3 五行通天塔（原版模式保留）
- **完整保留原版30层Roguelike玩法**作为周常挑战副本
- 局内规则不变：随机事件、商店、休息、奇遇
- 但结算奖励改为：根据达到层数发放永久资源（金币、灵珠、稀有素材）
- 每周一重置，排行榜保留

### 2.4 放置挂机系统（全新）

#### 2.4.1 基本机制
- 玩家设置一支**挂机队伍**（5只宠物）派驻到已通关的区域
- 离线期间自动产出：
  - **经验**：队伍中所有宠物均匀获得经验
  - **金币**：基础产出 + 关卡加成
  - **掉落物**：已击败过的怪物有概率掉落★1宠物碎片
  - **素材**：随机获得强化素材

#### 2.4.2 产出公式
```
每小时经验 = 关卡基础经验 × (1 + 队伍总战力/1000)
每小时金币 = 关卡基础金币 × (1 + 通关星数×0.1)
掉落概率/时 = 基础5% × (1 + 关卡星数×0.1)
```

#### 2.4.3 挂机上限
- 默认最多累积 **8小时** 收益
- 看广告可延长至 **12小时**
- 引导玩家每天至少上线1-2次收取

#### 2.4.4 放置界面
- 显示挂机队伍、当前区域、累计时间
- 一键领取按钮
- 领取时播放开箱动画（金币飞出、宠物碎片亮起等）

### 2.5 经济系统（新增）

#### 2.5.1 货币
| 货币 | 获取 | 用途 |
|------|------|------|
| 金币 | 关卡/放置/每日 | 购买灵珠、强化素材、商店道具 |
| 灵石（高级货币） | 成就/首通/排行/广告 | 高级灵珠、扩展仓库、加速 |

#### 2.5.2 商店
- **日常商店**：金币购买普通灵珠、经验珠、体力
- **灵石商店**：灵石购买高级灵珠、稀有素材、特殊法宝
- **限时商店**：每日刷新特价物品

#### 2.5.3 体力系统
- 推图和副本消耗体力
- 体力上限100，每5分钟回复1点
- 挂机不消耗体力
- 看广告可回复体力（每日限次）

### 2.6 社交与排行系统（扩展）

#### 2.6.1 排行榜（复用+扩展）
- **总战力榜**（新增）
- **宠物图鉴榜**（复用原版 petDex 排行）
- **通天塔榜**（复用原版 bestFloor 排行）
- **最高连击榜**（复用原版 combo 排行）

#### 2.6.2 好友系统（新增，可选）
- 微信好友互赠体力（每日1次）
- 好友宠物借用（每日1次借好友1只宠物助战）

---

## 三、主界面与场景设计

### 3.1 场景流转图
```
启动 → 登录/加载
        ↓
     【主界面】——→ 宠物管理 → 宠物详情/融合/升星
        |    ——→ 编队配置
        |    ——→ 法宝管理
        |    ——→ 背包/仓库
        |    ——→ 商店
        |    ——→ 排行榜
        |    ——→ 图鉴
        |    ——→ 设置
        ↓
     【关卡选择】——→ 主线区域选择 → 关卡列表
        |       ——→ 每日副本
        |       ——→ 五行通天塔（原版模式）
        ↓
     【战斗】——→ 转珠对战 → 捕捉/击败 → 结算
        ↓
     【放置挂机】（后台/独立入口）
```

### 3.2 新增/改造界面清单

| 界面 | 类型 | 说明 |
|------|------|------|
| 主界面 | **改造** | 从原版标题页改为常驻主城界面，显示当前队伍、挂机状态、各入口 |
| 关卡选择 | **新增** | 五大区域地图 + 关卡列表 |
| 宠物管理 | **改造** | 基于原版 eventView 的宠物列表改造，增加等级/经验/融合操作 |
| 宠物详情 | **新增** | 宠物属性详情、技能说明、升星预览 |
| 融合界面 | **改造** | 基于原版融合流程改造，增加素材选择 |
| 战斗结算 | **改造** | 增加掉落展示、经验获取展示、捕捉结果 |
| 放置界面 | **新增** | 挂机状态、收益领取 |
| 商店界面 | **改造** | 基于原版 shop 改造为永久商店 |
| 法宝管理 | **改造** | 基于原版法宝选择改造，增加强化功能 |
| 背包界面 | **新增** | 灵珠/素材/道具管理 |
| 体力显示 | **新增** | 顶部状态栏显示体力/金币/灵石 |

---

## 四、美术资源复用分析

### 4.1 完全复用（无需修改）

| 资源 | 数量 | 说明 |
|------|------|------|
| 宠物头像（PNG） | 100张 | ★1/★2形态直接使用 |
| 宠物满星立绘（JPG） | 100张 | ★3形态直接使用 |
| 怪物图片 | 85张 | 作为关卡敌人+可捕捉怪物 |
| 法宝图片 | 50张 | 直接使用 |
| 灵珠图片 | 6张 | 五行珠+心珠 |
| 战斗背景 | 5张 | 五大区域战斗背景 |
| 音效 | 20个 | 全部复用 |

### 4.2 需要修改/扩展

| 资源 | 需求 | 方案 |
|------|------|------|
| 主界面背景 | 1张 | 基于现有 bg_title.jpg 改造或新绘 |
| 区域地图 | 5张 | 新增五大区域选择地图（可简化为图标+文字） |
| 关卡节点 | 通用组件 | 圆形节点 + 连线，程序化生成 |
| 灵珠道具图标 | 4种 | 新绘普通/高级/大师/五行灵珠图标 |
| 捕捉动画帧 | 若干 | 可用程序化粒子效果替代 |
| 放置界面元素 | 若干 | 新增挂机相关UI元素 |
| 货币图标 | 2个 | 金币图标（可复用）+ 灵石图标（新增） |
| 体力图标 | 1个 | 新增 |
| 背包道具图标 | 若干 | 经验珠、素材等新增图标 |

### 4.3 资源复用率评估
- **图片资源复用率：约85%**（341/400+张可直接使用）
- **音频资源复用率：100%**
- **新增美术需求：约20-30张**（主要是UI图标和新界面元素）

---

## 五、代码改造分析

### 5.1 模块改造矩阵

| 模块 | 文件 | 改动级别 | 说明 |
|------|------|---------|------|
| **战斗引擎** | `engine/battle.js` | 🟢 小改 | 核心消除逻辑完全复用，新增捕捉判定钩子、战斗经验结算 |
| **战斗渲染** | `views/battleView.js` | 🟡 中改 | 复用大部分渲染，新增捕捉按钮、战斗波次显示 |
| **宠物数据** | `data/pets.js` | 🟡 中改 | 数据结构扩展（等级/经验/成长值），100只宠物数据复用 |
| **怪物/关卡** | `data/tower.js` | 🔴 大改 | 从Roguelike塔层改为固定关卡制，怪物数据复用但生成逻辑重写 |
| **法宝数据** | `data/weapons.js` | 🟢 小改 | 增加强化等级字段，50件法宝数据完全复用 |
| **存储系统** | `data/storage.js` | 🔴 大改 | 从"仅存最高层"改为完整永久存档（宠物库、背包、进度、货币等） |
| **技能系统** | `engine/skills.js` | 🟢 小改 | 40+技能逻辑完全复用，新增捕捉相关技能 |
| **Run管理** | `engine/runManager.js` | 🔴 大改 | 从Roguelike单局制改为关卡制，新增放置管理器 |
| **教程** | `engine/tutorial.js` | 🟡 中改 | 修改教程流程适配新玩法 |
| **主控制器** | `main.js` | 🔴 大改 | 场景系统重构（新增主城、关卡选择、放置等场景） |
| **渲染工具** | `render.js` | 🟢 小改 | 新增若干通用UI组件（进度条、标签页等） |
| **各界面** | `views/*.js` | 🔴 大改 | 大部分界面需要重构或新增 |
| **输入处理** | `input/touchHandlers.js` | 🟡 中改 | 新增场景的触摸处理 |
| **音频** | `runtime/music.js` | 🟢 小改 | 新增若干音效触发点 |
| **云函数** | `cloudfunctions/*` | 🟡 中改 | 扩展云数据库结构，新增好友/排行 |

### 5.2 核心引擎复用详情

**完全复用（不需修改的核心逻辑）：**
- `initBoard()` — 棋盘初始化
- `findMatches()` — 消除匹配查找
- `eliminateMatches()` — 消除动画
- `calcDamage()` — 伤害计算（含克制、暴击、Combo）
- `enemyTurn()` — 敌方行动（含技能释放）
- 拖拽转珠操作的全部逻辑
- 五行克制系统
- Combo倍率系统
- 所有40+宠物技能效果
- 所有怪物技能效果

**需要扩展的引擎部分：**
- 战斗结束结算：增加经验分配、掉落判定、捕捉结果
- 多波次战斗：每关1-3波怪物，波次切换
- 捕捉系统：血量阈值检测、捕捉率计算、捕捉动画

### 5.3 新增模块清单

| 新模块 | 文件（建议） | 功能 |
|--------|------------|------|
| 关卡管理器 | `engine/stageManager.js` | 关卡数据、进度管理、星级评价 |
| 放置引擎 | `engine/idleManager.js` | 挂机产出计算、离线收益结算 |
| 捕捉系统 | `engine/captureManager.js` | 捕捉率计算、灵珠管理 |
| 背包系统 | `engine/inventory.js` | 道具/素材/灵珠管理 |
| 经济系统 | `engine/economy.js` | 金币/灵石/体力管理 |
| 宠物养成 | `engine/petGrowth.js` | 等级/经验/融合/升星逻辑 |
| 主城界面 | `views/homeView.js` | 主界面渲染 |
| 关卡选择 | `views/stageSelectView.js` | 区域/关卡选择界面 |
| 放置界面 | `views/idleView.js` | 挂机状态/领取界面 |
| 宠物管理界面 | `views/petManageView.js` | 宠物列表/详情/融合界面 |
| 背包界面 | `views/inventoryView.js` | 道具管理界面 |
| 商店界面 | `views/newShopView.js` | 永久商店界面 |
| 关卡数据 | `data/stages.js` | 100关卡配置数据 |
| 道具数据 | `data/items.js` | 灵珠/素材/道具配置 |

### 5.4 数据结构改造

**原版 Storage 持久化数据：**
```js
{ bestFloor, totalRuns, stats, settings, petDex }
```

**新版 Storage 持久化数据（大幅扩展）：**
```js
{
  // === 玩家基础 ===
  level: 1,                    // 玩家等级（探险等级）
  exp: 0,                      // 玩家经验
  gold: 0,                     // 金币
  gem: 0,                      // 灵石
  stamina: 100,                // 当前体力
  staminaMax: 100,             // 体力上限
  lastStaminaTime: 0,          // 上次体力回复时间戳

  // === 宠物库 ===
  pets: [                      // 所有拥有的宠物
    {
      uid: 'unique_id',        // 唯一实例ID
      id: 'metal_1',           // 宠物模板ID（复用原版）
      attr: 'metal',           // 属性
      star: 1,                 // 当前星级 1-3
      level: 1,                // 当前等级
      exp: 0,                  // 当前经验
      locked: false,           // 锁定（防误融合）
    }
  ],

  // === 编队 ===
  teams: {
    battle: ['uid1','uid2','uid3','uid4','uid5'],  // 战斗队伍
    idle:   ['uid6','uid7','uid8','uid9','uid10'],  // 挂机队伍
  },

  // === 法宝 ===
  weapons: [
    { id: 'weapon_1', level: 1 }
  ],
  equippedWeapon: 'weapon_1',

  // === 背包 ===
  inventory: {
    normalBall: 10,            // 普通灵珠
    superBall: 3,              // 高级灵珠
    masterBall: 0,             // 大师灵珠
    ultraBall: 0,              // 五行灵珠
    expOrb_s: 5,               // 小经验珠
    expOrb_m: 2,               // 中经验珠
    expOrb_l: 0,               // 大经验珠
    // ... 其他素材
  },

  // === 关卡进度 ===
  stageProgress: {
    metal: { cleared: 5, stars: {1:3, 2:2, 3:3, 4:1, 5:2} },
    wood:  { cleared: 0, stars: {} },
    earth: { cleared: 0, stars: {} },
    water: { cleared: 0, stars: {} },
    fire:  { cleared: 0, stars: {} },
  },

  // === 放置状态 ===
  idle: {
    area: 'metal',             // 挂机区域
    startTime: 1700000000000,  // 挂机开始时间
    teamUids: [],              // 挂机队伍
    maxHours: 8,               // 最大累积小时数
  },

  // === 每日数据 ===
  daily: {
    date: '2026-02-23',
    dailyDungeonCount: { gold:0, exp:0, ball:0, attr:0 },
    adWatchCount: 0,
    friendGiftSent: false,
  },

  // === 通天塔（保留原版） ===
  tower: {
    bestFloor: 0,
    weeklyBestFloor: 0,
    lastResetWeek: '',
  },

  // === 图鉴 & 统计（复用） ===
  petDex: [],
  petDexSeen: [],
  stats: { totalBattles:0, totalCombos:0, maxCombo:0 },
  settings: { bgmOn:true, sfxOn:true },
}
```

### 5.5 云数据库改造

**现有集合：**
- `players` — 扩展为完整存档
- `rankings` — 扩展排行类型
- `dailyTasks` / `weeklyTasks` — 保留

**新增集合：**
- `friends` — 好友关系
- `giftLog` — 赠礼记录
- `shopRefresh` — 商店刷新状态

---

## 六、开发工作量评估

### 6.1 分阶段开发计划

**Phase 1：核心框架（2-3周）**
- [ ] 存储系统重构（永久存档）
- [ ] 主界面 + 场景路由重构
- [ ] 关卡数据配置（100关）
- [ ] 关卡选择界面

**Phase 2：战斗改造（1-2周）**
- [ ] 多波次战斗
- [ ] 战斗结算（经验/掉落/金币）
- [ ] 体力消耗系统

**Phase 3：宠物养成（2周）**
- [ ] 宠物等级/经验系统
- [ ] 融合升星改造
- [ ] 宠物管理界面
- [ ] 编队系统

**Phase 4：捕捉系统（1周）**
- [ ] 捕捉判定逻辑
- [ ] 灵珠道具系统
- [ ] 捕捉UI和动画

**Phase 5：放置系统（1周）**
- [ ] 挂机产出计算
- [ ] 离线收益结算
- [ ] 放置界面

**Phase 6：经济与商店（1周）**
- [ ] 货币系统
- [ ] 商店界面
- [ ] 背包界面

**Phase 7：打磨与扩展（1-2周）**
- [ ] 教程改造
- [ ] 每日副本
- [ ] 通天塔模式适配
- [ ] 排行榜扩展
- [ ] 平衡性调整

**总计预估：9-12周**（单人开发）

---

## 七、可行性评估

### 7.1 技术可行性：✅ 高

| 维度 | 评估 | 说明 |
|------|------|------|
| 渲染引擎 | ✅ 完全复用 | Canvas 2D + 60fps循环完全够用 |
| 战斗引擎 | ✅ 完全复用 | 转珠消除核心无需改动 |
| 数据规模 | ✅ 可控 | 100宠物+50法宝+100关卡，微信小游戏可承载 |
| 存储 | ✅ 可行 | 微信本地存储 + 云数据库，数据量在限制内 |
| 包体大小 | ⚠️ 需关注 | 当前已有400+图片，需要子包加载优化 |
| 性能 | ✅ 可行 | 放置计算为纯数学，不增加渲染负担 |

### 7.2 设计可行性：✅ 中高

| 维度 | 评估 | 说明 |
|------|------|------|
| 核心循环 | ✅ 成熟 | 放置+战斗+收集是经过验证的组合 |
| 内容量 | ✅ 充足 | 100宠物+50法宝提供足够收集深度 |
| 长线留存 | ✅ 显著提升 | 相比Roguelike，放置+养成的留存模型好得多 |
| 付费设计 | ✅ 自然 | 灵珠/体力/加速提供非侵入性付费点 |
| 平衡性 | ⚠️ 需要大量测试 | 养成数值、经济系统需反复调优 |

### 7.3 风险点

| 风险 | 级别 | 应对 |
|------|------|------|
| 数值膨胀 | 中 | 设计好成长曲线上限，预留调节接口 |
| 前期内容不足 | 低 | 100关+通天塔+每日副本提供足够初始内容 |
| 转珠疲劳 | 中 | 放置系统作为核心补充，非所有内容都要手动战斗 |
| 微信审核 | 低 | 纯PVE宠物游戏，合规风险极低 |
| 开发周期过长 | 中 | 分阶段发布，Phase1-3完成即可上线MVP |

---

## 八、遗漏补充与建议

### 8.1 建议补充的系统

1. **成就系统**
   - 收集类：集齐X只宠物、集齐某属性全部宠物
   - 战斗类：达成X连击、一回合消除X次
   - 进度类：通关某区域、通天塔达到X层
   - 奖励灵石，驱动长线目标

2. **宠物碎片系统**（可选替代直接掉落）
   - 怪物掉落对应宠物碎片（而非直接掉落整只宠物）
   - 集齐N个碎片合成★1宠物
   - 优势：提供更多磨合感和期待感，延长内容寿命

3. **宠物亲密度**（可选）
   - 出战/挂机积累亲密度
   - 满亲密度解锁宠物专属故事（复用原版PET_LORE）
   - 高亲密度提供小幅属性加成

4. **自动战斗/扫荡**
   - 已三星通关的关卡可一键扫荡（消耗体力直接获取奖励）
   - 降低重复劳动，提高体验

5. **签到系统**
   - 每日登录奖励（7日循环）
   - 第7日给高级灵珠或指定★2宠物

6. **新手引导优化**
   - 首场战斗赠送捕捉教学
   - 前5关逐步解锁功能（编队→融合→放置→商店→副本）

### 8.2 原版可能被废弃的系统

| 原版系统 | 处理方式 |
|---------|---------|
| Roguelike单局随机事件 | 保留在通天塔模式中 |
| 局内临时宠物池 | 改为通天塔专属机制 |
| 局内加成buff（30种） | 保留在通天塔模式，主线改为宠物属性驱动 |
| 分享获取道具 | 改为通用社交分享奖励 |
| 广告复活 | 改为战斗中可消耗复活道具 |

### 8.3 原版"怪物=宠物"的映射关系

这是改造的核心设计巧思：**每只怪物对应一只同名宠物**。

现有资源完美支持这个设计：
- 85只怪物 → 映射到100只宠物中的85只（部分宠物仅通过融合/特殊途径获取）
- 怪物图片用作战斗对手形象
- 宠物头像用作收集后的卡牌展示
- 同名但形象差异 → 体现"野生态"vs"灵宠态"的设定

**建议命名规则：**
- 怪物名：如"烈焰虎"（野生）
- 捕捉后宠物名：如"烈焰虎"（驯化）
- 美术上用怪物图=战斗形象，宠物头像=收集展示

---

## 九、最小可行产品（MVP）范围

建议首版上线包含：

1. ✅ 主线关卡（金风峡谷20关作为首个区域）
2. ✅ 转珠战斗（完全复用）
3. ✅ 宠物养成（等级+融合+升星）
4. ✅ 怪物掉落宠物（★1）
5. ✅ 捕捉系统（灵珠+★2）
6. ✅ 基础放置挂机
7. ✅ 简单商店（金币购买灵珠）
8. ✅ 图鉴系统（复用）

后续版本迭代加入：
- 其余4个区域
- 每日副本
- 五行通天塔周常
- 法宝强化
- 好友系统
- 成就系统

---

## 十、总结

本改造方案的核心优势：

1. **资源复用率极高（85%+）**：100宠物+50法宝+85怪物+全部音效可直接使用
2. **核心引擎零浪费**：转珠消除引擎、五行克制、Combo系统、技能系统完全复用
3. **商业模型显著升级**：从纯Roguelike到放置养成，留存和付费能力大幅提升
4. **内容深度翻倍**：同样的100只宠物，从"一次性使用"变为"长线养成"，内容价值倍增
5. **开发风险可控**：分阶段交付，Phase1-3即可验证核心玩法

**一句话结论：完全可行，且是对现有资源价值最大化的改造方向。**
